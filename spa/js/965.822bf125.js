(self["webpackChunkeducational_administration_system"]=self["webpackChunkeducational_administration_system"]||[]).push([[965],{9965:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>A});var a=t(3673),o=t(8477),n=t.n(o);const s=(0,a.Uk)(" 主页 "),d=(0,a.Uk)(" 课程信息 "),c=(0,a.Uk)(" 学生信息 "),i=(0,a.Uk)(" 学生选课 "),u=(0,a.Uk)(" 教务系统 "),r=(0,a._)("div",{class:"q-pa-sm bg-grey-3"},[(0,a._)("h5",{align:"center"},[(0,a._)("b",null,"学生课程列表")])],-1),m={class:"q-pa-sm"};function h(e,l,t,o,h,p){const f=(0,a.up)("q-icon"),g=(0,a.up)("q-item-section"),b=(0,a.up)("q-item"),w=(0,a.up)("q-list"),_=(0,a.up)("q-scroll-area"),k=(0,a.up)("q-drawer"),W=(0,a.up)("q-btn"),C=(0,a.up)("q-toolbar-title"),q=(0,a.up)("q-toolbar"),T=(0,a.up)("q-img"),v=(0,a.up)("q-header"),I=(0,a.up)("q-input"),y=(0,a.up)("q-tab"),Q=(0,a.up)("q-tabs"),Z=(0,a.up)("q-separator"),V=(0,a.up)("q-table"),U=(0,a.up)("q-tab-panel"),S=(0,a.up)("q-tab-panels"),H=(0,a.up)("q-page"),x=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(k,{modelValue:h.leftDrawerOpen,"onUpdate:modelValue":l[0]||(l[0]=e=>h.leftDrawerOpen=e),"show-if-above":"",width:200,breakpoint:600,class:"menu-image"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{height:"calc(100% - 150px)","margin-top":"20px","border-right":"0px solid #ddd"}},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{clickable:"",onClick:p.goToHomepage},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"home"})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[s])),_:1})])),_:1},8,["onClick"]),[[x]]),(0,a.wy)((0,a.Wm)(b,{clickable:"",onClick:p.goToLesson},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"import_contacts"})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[d])),_:1})])),_:1},8,["onClick"]),[[x]]),(0,a.wy)((0,a.Wm)(b,{clickable:"",onClick:p.goToInfo},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"school"})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[c])),_:1})])),_:1},8,["onClick"]),[[x]]),(0,a.wy)((0,a.Wm)(b,{clickable:"",active:"",onClick:p.goToSettings},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"check_circle"})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[i])),_:1})])),_:1},8,["onClick"]),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(v,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:h.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[u])),_:1}),(0,a._)("div",null,[(0,a.Wm)(W,{label:"退出",flat:"",align:"around",icon:"logout",onClick:p.logout},null,8,["onClick"])])])),_:1}),(0,a.Wm)(T,{src:n(),class:"header-image absolute-top"})])),_:1}),(0,a.Wm)(H,{class:"q-pa-sm"},{default:(0,a.w5)((()=>[r,(0,a._)("div",m,[(0,a.Wm)(I,{outlined:"",modelValue:h.studentId,"onUpdate:modelValue":l[1]||(l[1]=e=>h.studentId=e),label:"学号",dense:e.dense},{append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"search"})])),_:1},8,["modelValue","dense"])]),(0,a._)("div",null,[(0,a.Wm)(Q,{modelValue:h.tab,"onUpdate:modelValue":l[2]||(l[2]=e=>h.tab=e),dense:"",class:"bg-white text-blue shadow-2","inline-label":"",align:"left"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{name:"selected_course",icon:"check_box",label:"已选课程",onClick:p.checkSelectedCourse},null,8,["onClick"]),(0,a.Wm)(y,{name:"unselected_course",icon:"add_box",label:"未选课程",onClick:p.checkUnselectedCourse},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,a.Wm)(Z),(0,a.Wm)(S,{modelValue:h.tab,"onUpdate:modelValue":l[7]||(l[7]=e=>h.tab=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"selected_course"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(V,{class:"my-sticky-header-table",rows:h.rows_selected,columns:h.columns,"row-key":"id",filter:h.filter,loading:h.loading,selected:h.selected,"onUpdate:selected":l[4]||(l[4]=e=>h.selected=e),selection:"single"},{"top-left":(0,a.w5)((()=>[(0,a.Wm)(I,{"bg-color":"white",filled:"",borderless:"",dense:"",debounce:"300",modelValue:h.filter,"onUpdate:modelValue":l[3]||(l[3]=e=>h.filter=e),placeholder:"查询课程"},{append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"search"})])),_:1},8,["modelValue"])])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(W,{color:"white","text-color":"black","icon-right":"delete","no-caps":"",onClick:p.deleteSelectedCourse},null,8,["onClick"])])),_:1},8,["rows","columns","filter","loading","selected"])])])),_:1}),(0,a.Wm)(U,{name:"unselected_course"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(V,{class:"my-sticky-header-table",rows:h.rows_unselected,columns:h.columns,"row-key":"id",filter:h.filter_1,loading:h.loading_1,selected:h.unselected,"onUpdate:selected":l[6]||(l[6]=e=>h.unselected=e),selection:"single"},{"top-left":(0,a.w5)((()=>[(0,a.Wm)(I,{"bg-color":"white",filled:"",borderless:"",dense:"",debounce:"300",modelValue:h.filter_1,"onUpdate:modelValue":l[5]||(l[5]=e=>h.filter_1=e),placeholder:"查询课程"},{append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"search"})])),_:1},8,["modelValue"])])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(W,{color:"white","text-color":"black","icon-right":"add","no-caps":"",onClick:p.addSelectedCourse},null,8,["onClick"])])),_:1},8,["rows","columns","filter","loading","selected"])])])),_:1})])),_:1},8,["modelValue"])])])),_:1})],64)}var p=t(1959),f=t(52),g=t.n(f);t(925);const b=[{name:"name",required:!0,label:"课程名称",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"id",align:"center",label:"课程号",field:"id",sortable:!0},{name:"name",align:"center",label:"课程名称",field:"name",sortable:!0},{name:"type",align:"center",label:"类别",field:"type",sortable:!0},{name:"credit",align:"center",label:"学分",field:"credit",sortable:!0},{name:"time",align:"center",label:"上课时间",field:"time",sortable:!0},{name:"capacity",align:"center",label:"课程容量",field:"capacity",sortable:!0},{name:"exam",align:"center",label:"考核方式",field:"exam",sortable:!0},{name:"teacher",align:"center",label:"授课教师",field:"teacher",sortable:!0}];var w=[],_=[];const k={data(){const e=(0,p.iH)(!1),l=(0,p.iH)(""),t=(0,p.iH)(!1),a=(0,p.iH)(""),o=(0,p.iH)(!1);return{studentId:(0,p.iH)([]),filter:l,loading:e,filter_1:a,loading_1:t,selected:(0,p.iH)([]),unselected:(0,p.iH)([]),columns:b,rows_selected:w,rows_unselected:_,tab:(0,p.iH)("selected_course"),leftDrawerOpen:o,toggleLeftDrawer(){o.value=!o.value}}},created(){this.checkSelectedCourse()},methods:{logout:function(){this.$router.push("/")},goToHomepage(){this.$router.push("/admin/homepage/")},goToLesson(){this.$router.push("/admin/lesson/")},goToSettings(){this.$router.push("/admin/sc/")},goToInfo(){this.$router.push("/admin/student/")},deleteSelectedCourse(){var e="",l=this.rows_selected;console.log(l),this.$q.dialog({title:"确认",message:"是否删除该课程",cancel:!0,persistent:!0}).onOk((()=>{this.selected.filter((function(l){return e=l.id,l}));let l=this;g()({method:"POST",url:"http://localhost:8000/student/lesson/",data:{userId:this.studentId,courseId:e,operation:"delete"}}).then((function(e){console.log(e),l.rows_selected=e.data.data.courseTable,l.rows_unselected=e.data.data.unCourseTable})).catch((function(e){console.log(e)})).then((function(){})),this.selected=[],this.$q.notify({message:"课程已经删除！",color:"green-4"})}))},addSelectedCourse(){this.$q.dialog({title:"确认",message:"是否添加该课程",cancel:!0,persistent:!0}).onOk((()=>{var e="";this.unselected.filter((function(l){return e=l.id,l}));let l=this;g()({method:"POST",url:"http://localhost:8000/student/lesson/",data:{userId:this.studentId,courseId:e,operation:"select"}}).then((function(e){console.log(e),l.rows_selected=e.data.data.courseTable,l.rows_unselected=e.data.data.unCourseTable})).catch((function(e){console.log(e)})).then((function(){})),this.unselected=[],this.$q.notify({message:"课程已经添加！",color:"green-4"})}))},checkSelectedCourse(){if(""!=this.studentId){let e=this;g()({method:"GET",url:"http://localhost:8000/student/lesson/",params:{userId:this.studentId,operation:"selected"}}).then((function(l){e.rows_selected=l.data.data.courseTable})).catch((function(e){console.log(e)})).then((function(){})),console.log("hahaha")}},checkUnselectedCourse(){if(""!=this.studentId){let e=this;g()({method:"GET",url:"http://localhost:8000/student/lesson/",params:{userId:this.studentId,operation:"unselected"}}).then((function(l){e.rows_unselected=l.data.data.courseTable,console.log(l)})).catch((function(e){console.log(e)})).then((function(){}))}}}};var W=t(2901),C=t(7704),q=t(7011),T=t(3414),v=t(2035),I=t(4554),y=t(3812),Q=t(9570),Z=t(8240),V=t(3747),U=t(4027),S=t(4379),H=t(4842),x=t(7547),$=t(3269),D=t(5869),O=t(5906),L=t(6602),P=t(6429),E=t(6489),G=t(7518),j=t.n(G);k.render=h;const A=k;j()(k,"components",{QDrawer:W.Z,QScrollArea:C.Z,QList:q.Z,QItem:T.Z,QItemSection:v.Z,QIcon:I.Z,QHeader:y.Z,QToolbar:Q.Z,QBtn:Z.Z,QToolbarTitle:V.Z,QImg:U.Z,QPage:S.Z,QInput:H.Z,QTabs:x.Z,QTab:$.Z,QSeparator:D.Z,QTabPanels:O.Z,QTabPanel:L.Z,QTable:P.Z}),j()(k,"directives",{Ripple:E.Z})},8477:(e,l,t)=>{e.exports=t.p+"img/blue-trianglify.c3ebed88.jpg"}}]);