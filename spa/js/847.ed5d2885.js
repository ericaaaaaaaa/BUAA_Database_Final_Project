(self["webpackChunkeducational_administration_system"]=self["webpackChunkeducational_administration_system"]||[]).push([[847],{5847:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>F});var o=a(3673),t=a(8477),n=a.n(t);const d=(0,o.Uk)(" 主页 "),s=(0,o.Uk)(" 课程信息 "),i=(0,o.Uk)(" 学生信息 "),m=(0,o.Uk)(" 学生选课 "),u=(0,o.Uk)(" 教务系统 "),c=(0,o._)("div",{class:"q-pa-sm bg-grey-3"},[(0,o._)("h5",{align:"center"},[(0,o._)("b",null,"课程信息表")])],-1),r={class:"col q-pa-sm bg-white"},p={class:"col q-pa-sm bg-white"},h=(0,o.Uk)(" 课程添加 "),w={class:"q-gutter-md row items-start"},f={class:"q-pa-md"},g={class:"col q-pa-sm bg-white"},b=(0,o.Uk)(" 课程修改 "),V={class:"q-gutter-md row items-start"},W={class:"q-pa-md"};function _(e,l,a,t,_,C){const k=(0,o.up)("q-icon"),y=(0,o.up)("q-item-section"),T=(0,o.up)("q-item"),q=(0,o.up)("q-list"),S=(0,o.up)("q-scroll-area"),U=(0,o.up)("q-drawer"),I=(0,o.up)("q-btn"),v=(0,o.up)("q-toolbar-title"),x=(0,o.up)("q-toolbar"),Q=(0,o.up)("q-img"),Z=(0,o.up)("q-header"),$=(0,o.up)("q-input"),E=(0,o.up)("q-table"),L=(0,o.up)("q-form"),O=(0,o.up)("q-page"),D=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(U,{modelValue:_.leftDrawerOpen,"onUpdate:modelValue":l[0]||(l[0]=e=>_.leftDrawerOpen=e),"show-if-above":"",width:200,breakpoint:600,class:"menu-image"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{style:{height:"calc(100% - 150px)","margin-top":"20px","border-right":"0px solid #ddd"}},{default:(0,o.w5)((()=>[(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(T,{clickable:"",onClick:C.goToHomepage},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"home"})])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[d])),_:1})])),_:1},8,["onClick"]),[[D]]),(0,o.wy)((0,o.Wm)(T,{clickable:"",active:"",onClick:C.goToLesson},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"import_contacts"})])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[s])),_:1})])),_:1},8,["onClick"]),[[D]]),(0,o.wy)((0,o.Wm)(T,{clickable:"",onClick:C.goToInfo},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"school"})])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[i])),_:1})])),_:1},8,["onClick"]),[[D]]),(0,o.wy)((0,o.Wm)(T,{clickable:"",onClick:C.goToSettings},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"check_circle"})])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[m])),_:1})])),_:1},8,["onClick"]),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(I,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:_.toggleLeftDrawer},null,8,["onClick"]),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[u])),_:1}),(0,o._)("div",null,[(0,o.Wm)(I,{label:"退出",flat:"",align:"around",icon:"logout",onClick:C.logout},null,8,["onClick"])])])),_:1}),(0,o.Wm)(Q,{src:n(),class:"header-image absolute-top"})])),_:1}),(0,o.Wm)(O,{class:"q-pa-sm"},{default:(0,o.w5)((()=>[c,(0,o._)("div",r,[(0,o.Wm)(E,{class:"my-sticky-header-table",rows:_.rows_selected,columns:_.columns,"row-key":"id",filter:e.filter,loading:e.loading,selected:e.selected,"onUpdate:selected":l[2]||(l[2]=l=>e.selected=l),selection:"single"},{"top-left":(0,o.w5)((()=>[(0,o.Wm)($,{"bg-color":"white",filled:"",borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[1]||(l[1]=l=>e.filter=l),placeholder:"查询课程"},{append:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"search"})])),_:1},8,["modelValue"])])),"top-right":(0,o.w5)((()=>[(0,o.Wm)(I,{color:"white","text-color":"black","icon-right":"delete","no-caps":"",onClick:C.deleteSelectedCourse},null,8,["onClick"])])),_:1},8,["rows","columns","filter","loading","selected"])]),(0,o._)("div",p,[(0,o.Wm)(x,{class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[h])),_:1})])),_:1}),(0,o.Wm)(L,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md "},{default:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o.Wm)($,{modelValue:_.newId,"onUpdate:modelValue":l[3]||(l[3]=e=>_.newId=e),label:"课程号"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.newClass,"onUpdate:modelValue":l[4]||(l[4]=e=>_.newClass=e),label:"课程名"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.newType,"onUpdate:modelValue":l[5]||(l[5]=e=>_.newType=e),label:"课程类型"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.newCredit,"onUpdate:modelValue":l[6]||(l[6]=e=>_.newCredit=e),label:"课程学分"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.newTime,"onUpdate:modelValue":l[7]||(l[7]=e=>_.newTime=e),label:"课程时间"},null,8,["modelValue"]),(0,o.Wm)($,{type:"number",modelValue:_.newSum,"onUpdate:modelValue":l[8]||(l[8]=e=>_.newSum=e),label:"课程容量","lazy-rules":"",rules:[(e=>e>=0&&e<=200)||"课程容量需小于200"]},null,8,["modelValue","rules"]),(0,o.Wm)($,{modelValue:_.newExam,"onUpdate:modelValue":l[9]||(l[9]=e=>_.newExam=e),label:"课程考核形式"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.newTeacher,"onUpdate:modelValue":l[10]||(l[10]=e=>_.newTeacher=e),label:"课程授课教师"},null,8,["modelValue"])]),(0,o._)("div",f,[(0,o.Wm)(I,{label:"提交",type:"submit",color:"primary",onClick:C.addSelectedCourse},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])]),(0,o._)("div",g,[(0,o.Wm)(x,{class:"text-primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[b])),_:1})])),_:1}),(0,o.Wm)(L,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md "},{default:(0,o.w5)((()=>[(0,o._)("div",V,[(0,o.Wm)($,{modelValue:_.oldId,"onUpdate:modelValue":l[11]||(l[11]=e=>_.oldId=e),label:"课程号"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.oldClass,"onUpdate:modelValue":l[12]||(l[12]=e=>_.oldClass=e),label:"课程名"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.oldType,"onUpdate:modelValue":l[13]||(l[13]=e=>_.oldType=e),label:"课程类型"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.oldCredit,"onUpdate:modelValue":l[14]||(l[14]=e=>_.oldCredit=e),label:"课程学分"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.oldTime,"onUpdate:modelValue":l[15]||(l[15]=e=>_.oldTime=e),label:"课程时间"},null,8,["modelValue"]),(0,o.Wm)($,{type:"number",modelValue:_.oldSum,"onUpdate:modelValue":l[16]||(l[16]=e=>_.oldSum=e),label:"课程容量","lazy-rules":"",rules:[(e=>e>=0&&e<=200)||"课程容量需小于200"]},null,8,["modelValue","rules"]),(0,o.Wm)($,{modelValue:_.oldExam,"onUpdate:modelValue":l[17]||(l[17]=e=>_.oldExam=e),label:"课程考核形式"},null,8,["modelValue"]),(0,o.Wm)($,{modelValue:_.oldTeacher,"onUpdate:modelValue":l[18]||(l[18]=e=>_.oldTeacher=e),label:"课程授课教师"},null,8,["modelValue"])]),(0,o._)("div",W,[(0,o.Wm)(I,{label:"提交",type:"submit",color:"primary",onClick:C.changeSelectedCourse},null,8,["onClick"])])])),_:1},8,["onSubmit","onReset"])])])),_:1})],64)}var C=a(1959),k=a(52),y=a.n(k);a(925);const T=[{name:"name",required:!0,label:"课程名称",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"id",align:"center",label:"课程号",field:"id",sortable:!0},{name:"name",align:"center",label:"课程名称",field:"name",sortable:!0},{name:"type",align:"center",label:"类别",field:"type",sortable:!0},{name:"credit",align:"center",label:"学分",field:"credit",sortable:!0},{name:"time",align:"center",label:"上课时间",field:"time",sortable:!0},{name:"capacity",align:"center",label:"课程容量",field:"capacity",sortable:!0},{name:"exam",align:"center",label:"考核方式",field:"exam",sortable:!0},{name:"teacher",align:"center",label:"授课教师",field:"teacher",sortable:!0}];var q=[];const S={data(){const e=(0,C.iH)(!1);return{leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},newId:"",newClass:"",newType:"",newCredit:"",newSum:"",newExam:"",newTeacher:"",newTime:"",oldId:"",oldClass:"",oldType:"",oldCredit:"",oldSum:"",oldExam:"",oldTeacher:"",oldTime:"",columns:T,rows_selected:q}},created(){this.checkCourseInfo()},methods:{logout:function(){this.$router.push("/")},goToHomepage(){this.$router.push("/admin/homepage/")},goToLesson(){this.$router.push("/admin/lesson/")},goToSettings(){this.$router.push("/admin/sc/")},goToInfo(){this.$router.push("/admin/student/")},deleteSelectedCourse(){var e="",l=this.rows_selected;console.log(l),this.$q.dialog({title:"确认",message:"是否删除该课程",cancel:!0,persistent:!0}).onOk((()=>{this.selected.filter((function(l){return e=l.id,l}));let l=this;y()({method:"POST",url:"http://localhost:8000/admin/lesson/",data:{id:e,operation:"deleteLessonInfo"}}).then((function(e){console.log(e),l.rows_selected=e.data.data.courseInfo})).catch((function(e){console.log(e)})).then((function(){})),this.selected=[],this.$q.notify({message:"课程已经删除！",color:"green-4"})}))},addSelectedCourse(){this.$q.dialog({title:"确认",message:"是否添加该课程",cancel:!0,persistent:!0}).onOk((()=>{let e=this;y()({method:"POST",url:"http://localhost:8000/admin/lesson/",data:{id:this.newId,name:this.newClass,type:this.newType,credit:this.newCredit,time:this.newTime,capacity:this.newSum,exam:this.newExam,teacher:this.newTeacher,operation:"addLessonInfo"}}).then((function(l){console.log(l),e.rows_selected=l.data.data.courseInfo,this.$q.notify({message:"课程已经添加！",color:"green-4"})})).catch((function(e){console.log(e)})).then((function(){}))}))},changeSelectedCourse(){this.$q.dialog({title:"确认",message:"是否修改该课程",cancel:!0,persistent:!0}).onOk((()=>{let e=this;y()({method:"POST",url:"http://localhost:8000/admin/lesson/",data:{id:this.oldId,name:this.oldClass,type:this.oldType,credit:this.oldCredit,time:this.oldTime,capacity:this.oldSum,exam:this.oldExam,teacher:this.oldTeacher,operation:"changeLessonInfo"}}).then((function(l){console.log(l),e.rows_selected=l.data.data.courseInfo,this.$q.notify({message:"课程已经添加！",color:"green-4"})})).catch((function(e){console.log(e)})).then((function(){}))}))},checkCourseInfo(){let e=this;y()({method:"GET",url:"http://localhost:8000/admin/lesson/",params:{operation:"getLessonInfo"}}).then((function(l){e.rows_selected=l.data.data.courseInfo})).catch((function(e){console.log(e)})).then((function(){})),console.log("hahaha")}}};var U=a(2901),I=a(7704),v=a(7011),x=a(3414),Q=a(2035),Z=a(4554),$=a(3812),E=a(9570),L=a(8240),O=a(3747),D=a(4027),R=a(4379),H=a(6429),P=a(4842),z=a(5269),j=a(6489),A=a(7518),B=a.n(A);S.render=_;const F=S;B()(S,"components",{QDrawer:U.Z,QScrollArea:I.Z,QList:v.Z,QItem:x.Z,QItemSection:Q.Z,QIcon:Z.Z,QHeader:$.Z,QToolbar:E.Z,QBtn:L.Z,QToolbarTitle:O.Z,QImg:D.Z,QPage:R.Z,QTable:H.Z,QInput:P.Z,QForm:z.Z}),B()(S,"directives",{Ripple:j.Z})},8477:(e,l,a)=>{e.exports=a.p+"img/blue-trianglify.c3ebed88.jpg"}}]);